var l=(r,a,t)=>new Promise((e,n)=>{var f=s=>{try{i(t.next(s))}catch(o){n(o)}},m=s=>{try{i(t.throw(s))}catch(o){n(o)}},i=s=>s.done?e(s.value):Promise.resolve(s.value).then(f,m);i((t=t.apply(r,a)).next())});import{j as c}from"./ui-Dz3VGjCi.js";import{r as g}from"./vendor-DBl2kvvH.js";import{a as h,c as p}from"./useTelegramUser-BsW_Cs6Z.js";import{i as d}from"./index--vVcZAxM.js";const b=()=>{const r=g.useMemo(()=>Array.from({length:18},(a,t)=>({id:t,left:`${Math.random()*100}%`,size:2+Math.random()*2,duration:6+Math.random()*8,delay:Math.random()*10,opacity:.1+Math.random()*.15})),[]);return c.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:r.map(a=>c.jsx("div",{className:"absolute rounded-full bg-brand-primary",style:{left:a.left,bottom:"-10px",width:a.size,height:a.size,opacity:a.opacity,animation:`particle ${a.duration}s ${a.delay}s ease-in-out infinite`}},a.id))})},y={getProfile:r=>h.get(`/user/${r}`).then(a=>a.data)};let u="";const j=p((r,a)=>({user:null,wallet:null,currentPlan:null,stats:null,isLoading:!1,error:null,fetchUserProfile:t=>l(void 0,null,function*(){u=t,r({isLoading:!0,error:null});try{const e=yield y.getProfile(t);if(e.user.language){const n=e.user.language.startsWith("ru")?"ru":"en";d.language!==n&&d.changeLanguage(n)}r({user:e.user,wallet:e.wallet,currentPlan:e.currentPlan,stats:e.stats,isLoading:!1})}catch(e){r({error:e instanceof Error?e.message:"Failed to load profile",isLoading:!1})}}),refreshData:()=>l(void 0,null,function*(){u&&(yield a().fetchUserProfile(u))})}));export{b as P,j as u};

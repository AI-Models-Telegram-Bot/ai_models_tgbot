var S=(t,i,r)=>new Promise((s,n)=>{var a=x=>{try{o(r.next(x))}catch(u){n(u)}},c=x=>{try{o(r.throw(x))}catch(u){n(u)}},o=x=>x.done?s(x.value):Promise.resolve(x.value).then(a,c);o((r=r.apply(t,i)).next())});import{j as e,m as V}from"./ui-Dz3VGjCi.js";import{r as p}from"./vendor-DBl2kvvH.js";import{u as C,S as N,a as B,B as L,o as R,b as P,g as W,c as T}from"./index--vVcZAxM.js";import{u as D,P as A}from"./profileStore-8smoNdk7.js";import{M as F}from"./Modal-BNPX02AU.js";import{a as v,c as H,u as _}from"./useTelegramUser-BsW_Cs6Z.js";const U={getPlans:()=>v.get("/subscriptions/plans").then(t=>t.data),getCurrentSubscription:t=>v.get(`/subscriptions/current/${t}`).then(i=>i.data),getModelsForTier:t=>v.get(`/subscriptions/models/${t}`).then(i=>i.data),upgrade:(t,i)=>v.post("/subscriptions/upgrade",{telegramId:t,tier:i}).then(r=>r.data),cancel:t=>v.post("/subscriptions/cancel",{telegramId:t}).then(i=>i.data)},E=t=>t===null?"âˆž":t.toLocaleString(),Y=({category:t})=>({text:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),image:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.jsx("path",{d:"m21 15-5-5L5 21"})]}),video:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polygon",{points:"23 7 16 12 23 17 23 7"}),e.jsx("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})]}),audio:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 18V5l12-2v13"}),e.jsx("circle",{cx:"6",cy:"18",r:"3"}),e.jsx("circle",{cx:"18",cy:"16",r:"3"})]})})[t],q={text:{bg:"bg-cyan-500/10",text:"text-cyan-400",border:"border-cyan-500/20"},image:{bg:"bg-pink-500/10",text:"text-pink-400",border:"border-pink-500/20"},video:{bg:"bg-purple-500/10",text:"text-purple-400",border:"border-purple-500/20"},audio:{bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/20"}},M=({category:t,models:i,credits:r})=>{const{t:s}=C("subscriptions"),n=q[t],a={text:s("categories.text","Text Models"),image:s("categories.image","Image Generation"),video:s("categories.video","Video Generation"),audio:s("categories.audio","Audio & Voice")};return i.length===0?null:e.jsxs("div",{className:`rounded-xl ${n.bg} border ${n.border} p-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",style:{columnGap:8},children:[e.jsx("span",{className:n.text,children:e.jsx(Y,{category:t})}),e.jsx("span",{className:"text-white text-sm font-semibold",children:a[t]})]}),e.jsxs("span",{className:`text-xs font-mono font-bold ${r===null?"text-brand-accent":"text-content-secondary"}`,children:[E(r)," ",s("credits","credits")]})]}),e.jsx("div",{className:"space-y-2",children:i.map(c=>e.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-white/5 last:border-0",children:[e.jsxs("div",{className:"flex items-center min-w-0",style:{columnGap:8},children:[e.jsx("span",{className:"text-white text-sm truncate",children:c.name}),c.isUnlimited&&e.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-brand-accent/20 text-brand-accent",children:s("unlimited","Unlimited")})]}),!c.isUnlimited&&e.jsxs("span",{className:"shrink-0 text-content-tertiary text-xs font-mono ml-2",children:[c.creditCost," ",s("creditsShort","cr")]})]},c.id))})]})},J=({isOpen:t,onClose:i,plan:r})=>{const{t:s}=C(["subscriptions","common","profile"]),[n,a]=p.useState(null),[c,o]=p.useState(!1),[x,u]=p.useState(null);return p.useEffect(()=>{t&&!n&&(o(!0),u(null),U.getModelsForTier(r.tier).then(d=>{a(d),o(!1)}).catch(d=>{u(d.message||"Failed to load models"),o(!1)}))},[t,r.tier,n]),p.useEffect(()=>{t||(a(null),u(null))},[t]),e.jsx(F,{isOpen:t,onClose:i,title:r.name,size:"lg",children:e.jsxs("div",{className:"p-5 space-y-4 pb-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-content-tertiary uppercase tracking-wider mb-3",children:s("subscriptions:creditsPerMonth","Monthly Credits")}),e.jsx("div",{className:"grid grid-cols-4",style:{gap:8},children:[{key:"text",label:s("profile:balances.text","Text"),value:r.credits.text,color:"bg-cyan-500"},{key:"image",label:s("profile:balances.image","Image"),value:r.credits.image,color:"bg-pink-500"},{key:"video",label:s("profile:balances.video","Video"),value:r.credits.video,color:"bg-purple-500"},{key:"audio",label:s("profile:balances.audio","Audio"),value:r.credits.audio,color:"bg-emerald-500"}].map(d=>e.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-2.5 text-center",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${d.color} mx-auto mb-1`}),e.jsx("p",{className:`text-sm font-bold font-mono ${d.value===null?"text-brand-accent":"text-white"}`,children:E(d.value)}),e.jsx("p",{className:"text-content-tertiary text-[10px]",children:d.label})]},d.key))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-content-tertiary uppercase tracking-wider mb-3",children:s("subscriptions:availableModels","Available AI Models")}),c?e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{variant:"rectangular",height:120,className:"rounded-xl"}),e.jsx(N,{variant:"rectangular",height:120,className:"rounded-xl"})]}):x?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-content-secondary text-sm",children:x}),e.jsx("button",{onClick:()=>{a(null),u(null)},className:"text-brand-primary text-sm mt-2",children:s("common:retry","Retry")})]}):n?e.jsxs("div",{className:"space-y-3",children:[e.jsx(M,{category:"text",models:n.models.text,credits:r.credits.text}),e.jsx(M,{category:"image",models:n.models.image,credits:r.credits.image}),e.jsx(M,{category:"video",models:n.models.video,credits:r.credits.video}),e.jsx(M,{category:"audio",models:n.models.audio,credits:r.credits.audio}),n.models.text.length===0&&n.models.image.length===0&&n.models.video.length===0&&n.models.audio.length===0&&e.jsx("p",{className:"text-content-tertiary text-sm text-center py-4",children:s("subscriptions:noModelsAvailable","No models available for this tier")})]}):null]}),r.features.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-content-tertiary uppercase tracking-wider mb-3",children:s("subscriptions:featuresTitle","Features")}),e.jsx("div",{className:"space-y-2",children:r.features.map((d,g)=>e.jsxs("div",{className:"flex items-start",style:{columnGap:10},children:[e.jsx("span",{className:"text-brand-primary mt-0.5 shrink-0",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[e.jsx("circle",{cx:"8",cy:"8",r:"8",fill:"currentColor",fillOpacity:"0.15"}),e.jsx("path",{d:"M5 8l2 2 4-4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("span",{className:"text-content-secondary text-sm",children:s(`subscriptions:${d}`,d)})]},g))})]}),e.jsxs("div",{className:"flex flex-wrap",style:{gap:8},children:[r.prioritySupport&&e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-brand-primary/10 text-brand-primary text-xs font-medium",children:s("subscriptions:prioritySupport","Priority Support")}),r.apiAccess&&e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-brand-accent/10 text-brand-accent text-xs font-medium",children:s("subscriptions:apiAccess","API Access")}),r.referralBonus>0&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-brand-secondary/10 text-brand-secondary text-xs font-medium",children:[r.referralBonus,"% ",s("subscriptions:referralBonus","Referral Bonus")]})]})]})})},I={create:t=>v.post("/payment/create",t).then(i=>i.data),verify:(t,i)=>v.post("/payment/verify",{paymentId:t,telegramId:i}).then(r=>r.data),getMethods:()=>v.get("/payment/methods").then(t=>t.data)},z=(t,i,r)=>{if(t===null||t===0)return"";const s=i?`${i.toLocaleString()} â‚½`:"",n=`$${t}`;return r==="ru"&&s?`${s} / ${n}`:n},K=({isOpen:t,onClose:i,plan:r,telegramId:s,onSuccess:n})=>{const{t:a,i18n:c}=C(["subscriptions","common"]),o=c.language.startsWith("ru")?"ru":"en",[x,u]=p.useState([]),[d,g]=p.useState(!1),[h,f]=p.useState(!1),[k,b]=p.useState(null),[y,m]=p.useState(null);p.useEffect(()=>{t&&x.length===0&&(g(!0),I.getMethods().then(l=>{u(l.methods);const j=l.methods.find(G=>G.available);j&&m(j.id),g(!1)}).catch(l=>{b(l.message),g(!1)}))},[t,x.length]);const $=()=>S(void 0,null,function*(){if(y){f(!0),b(null),B("medium");try{const l=yield I.create({telegramId:s,tier:r.tier,paymentMethod:y});l.method==="telegram_stars"&&"invoiceUrl"in l?R(l.invoiceUrl,j=>{j==="paid"?(P("success"),n==null||n(),i()):j==="cancelled"?(P("warning"),b(a("subscriptions:payment.cancelled"))):j==="failed"&&(P("error"),b(a("subscriptions:payment.failed"))),f(!1)}):"status"in l&&l.status==="coming_soon"?(b(a("subscriptions:payment.comingSoon")),f(!1)):l.method==="contact"&&(b(a("subscriptions:payment.enterpriseContact")),f(!1))}catch(l){P("error"),b(l.message||a("subscriptions:payment.createError")),f(!1)}}});return p.useEffect(()=>{var l;t||(b(null),f(!1),m(((l=x.find(j=>j.available))==null?void 0:l.id)||null))},[t,x]),e.jsx(F,{isOpen:t,onClose:i,title:a("subscriptions:payment.selectMethod"),size:"md",children:e.jsxs("div",{className:"p-5 space-y-5",children:[e.jsx("div",{className:"rounded-xl bg-white/5 border border-white/10 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold",children:r.name}),e.jsx("p",{className:"text-content-tertiary text-xs mt-0.5",children:a("subscriptions:payment.monthlySubscription")})]}),e.jsx("p",{className:"text-xl font-bold text-white font-mono",children:z(r.priceUSD,r.priceRUB,o)})]})}),d?e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{variant:"rectangular",height:64,className:"rounded-xl"}),e.jsx(N,{variant:"rectangular",height:64,className:"rounded-xl"})]}):e.jsx("div",{className:"space-y-2",children:x.map(l=>e.jsxs("button",{onClick:()=>{l.available&&(B("light"),m(l.id))},disabled:!l.available||h,className:`w-full flex items-center p-4 rounded-xl border transition-all ${y===l.id?"border-brand-primary bg-brand-primary/10":l.available?"border-white/10 bg-white/5 hover:border-white/20":"border-white/5 bg-white/[0.02] opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{className:"text-2xl mr-3",children:l.icon}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-white text-sm font-medium",children:o==="ru"?l.nameRu:l.name}),e.jsx("p",{className:"text-content-tertiary text-xs",children:o==="ru"?l.descriptionRu:l.description})]}),l.comingSoon&&e.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-semibold bg-content-tertiary/20 text-content-tertiary",children:a("subscriptions:payment.soon")}),y===l.id&&l.available&&e.jsx("span",{className:"text-brand-primary ml-2",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},l.id))}),k&&e.jsx("div",{className:"rounded-xl bg-red-500/10 border border-red-500/20 p-3",children:e.jsx("p",{className:"text-red-400 text-sm text-center",children:k})}),e.jsx(L,{variant:"primary",fullWidth:!0,size:"lg",onClick:$,disabled:!y||h||d,children:h?e.jsxs("span",{className:"flex items-center justify-center",style:{columnGap:8},children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a("subscriptions:payment.processing")]}):e.jsxs(e.Fragment,{children:[y==="telegram_stars"&&"â­ ",a("subscriptions:payment.pay")," ",z(r.priceUSD,r.priceRUB,o)]})}),e.jsx("p",{className:"text-content-tertiary text-[10px] text-center",children:a("subscriptions:payment.terms")})]})})},Q=({plan:t,isCurrent:i,isPopular:r=!1,index:s,onUpgradeSuccess:n})=>{var b,y;const{t:a}=C(["subscriptions","common","profile"]),[c,o]=p.useState(!1),[x,u]=p.useState(!1),d=W(),g=(y=(b=d==null?void 0:d.id)==null?void 0:b.toString())!=null?y:"",h=m=>m===null?a("subscriptions:price.contactUs"):m===0?a("subscriptions:price.free"):`$${m}${a("subscriptions:price.perMonth")}`,f=m=>m===null?a("subscriptions:unlimited"):m.toLocaleString(),k=()=>{t.priceUSD!==0&&t.priceUSD!==null&&u(!0)};return e.jsxs(V.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4,delay:s*.08},className:T("relative flex-shrink-0 w-[280px] rounded-2xl backdrop-blur-xl bg-surface-card/90 border transition-all duration-300",i?"border-brand-primary/50 shadow-neon":"border-white/15 shadow-card hover:shadow-card-hover hover:translate-y-[-4px]",r&&!i&&"border-brand-secondary/40"),children:[r&&!i&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-gradient-premium rounded-full text-xs font-semibold text-white shadow-gold",children:a("subscriptions:popular","Popular")}),i&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-gradient-primary rounded-full text-xs font-semibold text-white shadow-neon",children:a("subscriptions:currentPlan","Current Plan")}),e.jsxs("div",{className:"p-5 pt-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white font-display",children:t.name}),e.jsx("div",{className:"mt-1 mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-white font-display",children:h(t.priceUSD)})}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-medium text-content-tertiary uppercase tracking-wider",children:a("subscriptions:credits","Credits")}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:a("profile:balances.text","Text"),value:t.credits.text,icon:"ðŸ’¬"},{label:a("profile:balances.image","Image"),value:t.credits.image,icon:"ðŸ–¼"},{label:a("profile:balances.video","Video"),value:t.credits.video,icon:"ðŸŽ¬"},{label:a("profile:balances.audio","Audio"),value:t.credits.audio,icon:"ðŸŽµ"}].map(m=>e.jsxs("div",{className:"flex items-center text-sm",style:{columnGap:6},children:[e.jsx("span",{className:"text-xs",children:m.icon}),e.jsx("span",{className:T("font-mono text-xs",m.value===null?"text-brand-accent font-semibold":"text-content-secondary"),children:f(m.value)})]},m.label))})]}),e.jsx("div",{className:"space-y-1.5 mb-3",children:t.features.slice(0,3).map((m,$)=>e.jsxs("div",{className:"flex items-start text-sm",style:{columnGap:8},children:[e.jsx("span",{className:"text-brand-primary mt-0.5 text-xs",children:"âœ“"}),e.jsx("span",{className:"text-content-secondary text-xs",children:a(`subscriptions:${m}`,m)})]},$))}),t.features.length>0&&e.jsxs("button",{onClick:m=>{m.stopPropagation(),o(!0)},className:"w-full text-center text-xs font-medium text-brand-primary/80 hover:text-brand-primary py-1.5 mb-3 rounded-lg bg-brand-primary/5 border border-brand-primary/10 transition-colors",children:[a("subscriptions:allFeatures","All Features")," (",t.features.length,")"]}),i?e.jsx(L,{variant:"secondary",fullWidth:!0,size:"sm",disabled:!0,children:a("subscriptions:currentPlan","Current Plan")}):t.priceUSD===null?e.jsx(L,{variant:"premium",fullWidth:!0,size:"sm",onClick:k,children:a("subscriptions:contactUs","Contact Us")}):e.jsx(L,{variant:r?"primary":"secondary",fullWidth:!0,size:"sm",onClick:k,children:t.priceUSD===0?a("subscriptions:getStarted","Get Started"):a("subscriptions:upgrade","Upgrade")})]}),e.jsx(J,{isOpen:c,onClose:()=>o(!1),plan:t}),e.jsx(K,{isOpen:x,onClose:()=>u(!1),plan:t,telegramId:g,onSuccess:n})]})},w=t=>t===null?"âˆž":typeof t=="boolean"?t?"âœ“":"â€”":typeof t=="number"?t.toLocaleString():t,X=({plans:t,currentTier:i})=>{const r=[{label:"Price",getValue:s=>s.priceUSD===null?"Custom":s.priceUSD===0?"Free":`$${s.priceUSD}`},{label:"Text Credits",getValue:s=>w(s.credits.text)},{label:"Image Credits",getValue:s=>w(s.credits.image)},{label:"Video Credits",getValue:s=>w(s.credits.video)},{label:"Audio Credits",getValue:s=>w(s.credits.audio)},{label:"Priority Support",getValue:s=>w(s.prioritySupport)},{label:"API Access",getValue:s=>w(s.apiAccess)},{label:"Referral Bonus",getValue:s=>`${s.referralBonus}%`}];return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-6 bg-gradient-to-l from-surface-card/90 to-transparent z-10 pointer-events-none rounded-r-2xl"}),e.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:e.jsxs("table",{className:"w-full min-w-[480px]",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left text-xs font-medium text-content-tertiary uppercase tracking-wider py-3 px-3 sticky left-0 bg-surface-card/90 backdrop-blur-sm w-[100px] min-w-[100px]",children:"Feature"}),t.map(s=>e.jsx("th",{className:T("text-center text-xs font-semibold py-3 px-2",s.tier===i?"text-brand-primary":"text-content-secondary"),children:s.name},s.tier))]})}),e.jsx("tbody",{children:r.map((s,n)=>e.jsxs("tr",{className:n%2===0?"bg-white/[0.02]":"",children:[e.jsx("td",{className:"text-xs text-content-secondary py-2.5 px-3 sticky left-0 bg-surface-card/90 backdrop-blur-sm w-[100px] min-w-[100px]",children:s.label}),t.map(a=>{const c=s.getValue(a);return e.jsx("td",{className:T("text-center text-xs py-2.5 px-2 font-mono",a.tier===i?"text-brand-primary font-semibold":"text-content-secondary",c==="âˆž"&&"text-brand-accent font-semibold",c==="âœ“"&&"text-emerald-400",c==="â€”"&&"text-content-tertiary"),children:c},a.tier)})]},s.label))})]})})]})},Z=H((t,i)=>({plans:[],selectedPlan:null,isLoading:!1,error:null,fetchPlans:()=>S(void 0,null,function*(){t({isLoading:!0,error:null});try{const r=yield U.getPlans();t({plans:r.plans,isLoading:!1})}catch(r){t({error:r.message||"Failed to load plans",isLoading:!1})}}),selectPlan:r=>{const s=i().plans.find(n=>n.tier===r)||null;t({selectedPlan:s})},clearSelection:()=>{t({selectedPlan:null})},upgradePlan:(r,s)=>S(void 0,null,function*(){t({isLoading:!0,error:null});try{return yield U.upgrade(r,s),t({isLoading:!1}),!0}catch(n){return t({error:n.message||"Failed to upgrade",isLoading:!1}),!1}}),cancelPlan:r=>S(void 0,null,function*(){t({isLoading:!0,error:null});try{return yield U.cancel(r),t({isLoading:!1}),!0}catch(s){return t({error:s.message||"Failed to cancel",isLoading:!1}),!1}})})),ne=()=>{const{t}=C(["subscriptions","common"]),{plans:i,isLoading:r,error:s,fetchPlans:n}=Z(),{currentPlan:a,fetchUserProfile:c}=D(),{telegramId:o,isLoading:x,isTelegramEnv:u}=_(),d=(a==null?void 0:a.tier)||"FREE";p.useEffect(()=>{n(),o&&c(o)},[n,c,o]);const g=()=>{o&&c(o)};return x?e.jsxs("div",{className:"relative min-h-screen",children:[e.jsx(A,{}),e.jsxs("div",{className:"relative z-10 px-4 py-6",children:[e.jsx(N,{variant:"text",width:200,height:32,className:"mb-2"}),e.jsx(N,{variant:"text",width:280,height:20,className:"mb-6"}),e.jsx("div",{className:"flex overflow-x-auto scrollbar-hide pb-4",style:{columnGap:16},children:[1,2,3].map(h=>e.jsx(N,{variant:"rectangular",width:280,height:380,className:"flex-shrink-0 rounded-2xl"},h))})]})]}):!o&&!u?e.jsxs("div",{className:"relative min-h-screen",children:[e.jsx(A,{}),e.jsxs("div",{className:"relative z-10 p-4 flex flex-col items-center justify-center min-h-[60vh] text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-brand-primary/10 flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-brand-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),e.jsx("h2",{className:"text-white text-lg font-bold font-display mb-2",children:t("common:openInTelegram","Open in Telegram")}),e.jsx("p",{className:"text-content-secondary text-sm max-w-xs",children:t("common:openInTelegramDesc","This app is designed to be opened from the Telegram bot. Please open it via the bot menu.")})]})]}):s?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-content-secondary mb-4",children:s}),e.jsx("button",{onClick:()=>n(),className:"text-brand-primary underline",children:t("common:retry","Retry")})]})}):e.jsxs("div",{className:"relative min-h-screen",children:[e.jsx(A,{}),e.jsxs("div",{className:"relative z-10 px-4 py-6",children:[e.jsxs(V.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white font-display",children:t("choosePlan","Choose Your Plan")}),e.jsx("p",{className:"text-content-secondary text-sm mt-1",children:t("subtitle","Unlock more AI models and credits")})]}),r?e.jsx("div",{className:"flex overflow-x-auto scrollbar-hide pb-4",style:{columnGap:16},children:[1,2,3].map(h=>e.jsx(N,{variant:"rectangular",width:280,height:380,className:"flex-shrink-0 rounded-2xl"},h))}):e.jsx("div",{className:"flex overflow-x-auto scrollbar-hide pt-4 pb-4 snap-x snap-mandatory",style:{columnGap:16},children:i.map((h,f)=>e.jsx("div",{className:"snap-start",children:e.jsx(Q,{plan:h,isCurrent:h.tier===d,isPopular:h.tier==="PRO",index:f,onUpgradeSuccess:g})},h.tier))}),!r&&i.length>0&&e.jsxs(V.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4,delay:.3},className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-white font-display mb-4",children:t("compareTitle","Compare Plans")}),e.jsx("div",{className:"rounded-2xl backdrop-blur-xl bg-surface-card/90 border border-white/15 p-3",children:e.jsx(X,{plans:i,currentTier:d})})]})]})]})};export{ne as default};
